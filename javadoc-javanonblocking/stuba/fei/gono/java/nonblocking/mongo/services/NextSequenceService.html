<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_191) on Tue May 19 13:53:15 CEST 2020 -->
<title>NextSequenceService</title>
<meta name="date" content="2020-05-19">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="NextSequenceService";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../stuba/fei/gono/java/nonblocking/mongo/services/EmployeeServiceImple.html" title="class in stuba.fei.gono.java.nonblocking.mongo.services"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../stuba/fei/gono/java/nonblocking/mongo/services/OrganisationUnitServiceImpl.html" title="class in stuba.fei.gono.java.nonblocking.mongo.services"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?stuba/fei/gono/java/nonblocking/mongo/services/NextSequenceService.html" target="_top">Frames</a></li>
<li><a href="NextSequenceService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">stuba.fei.gono.java.nonblocking.mongo.services</div>
<h2 title="Class NextSequenceService" class="title">Class NextSequenceService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>stuba.fei.gono.java.nonblocking.mongo.services.NextSequenceService</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@Service
public class <span class="typeNameLabel">NextSequenceService</span>
extends java.lang.Object</pre>
<div class="block"><div class="en">Service that generates next id value for storing data in MongoDB.</div>
 <div class="sk">Služba, ktorá generuje nasledujúcu hodnotu id použitú na uloženie entity do Mongo databázy.
 </div></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private org.springframework.data.mongodb.core.MongoOperations</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../stuba/fei/gono/java/nonblocking/mongo/services/NextSequenceService.html#mongoOperations">mongoOperations</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private org.springframework.data.mongodb.core.ReactiveMongoOperations</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../stuba/fei/gono/java/nonblocking/mongo/services/NextSequenceService.html#reactiveMongoOperations">reactiveMongoOperations</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../stuba/fei/gono/java/nonblocking/mongo/services/NextSequenceService.html#NextSequenceService-org.springframework.data.mongodb.core.ReactiveMongoOperations-org.springframework.data.mongodb.core.MongoOperations-">NextSequenceService</a></span>(org.springframework.data.mongodb.core.ReactiveMongoOperations&nbsp;reactiveMongoOperations,
                   org.springframework.data.mongodb.core.MongoOperations&nbsp;mongoOperations)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>reactor.core.publisher.Mono&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../stuba/fei/gono/java/nonblocking/mongo/services/NextSequenceService.html#getNewId-org.springframework.data.repository.reactive.ReactiveCrudRepository-java.lang.String-">getNewId</a></span>(@NotNull org.springframework.data.repository.reactive.ReactiveCrudRepository&lt;?,java.lang.String&gt;&nbsp;rep,
        @NotNull java.lang.String&nbsp;sequenceName)</code>
<div class="block"><div class="en">Generates a new value of an id for saving new object in a database.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private reactor.core.publisher.Mono&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../stuba/fei/gono/java/nonblocking/mongo/services/NextSequenceService.html#getNextSequence-java.lang.String-">getNextSequence</a></span>(@NotNull java.lang.String&nbsp;seqName)</code>
<div class="block"><div class="en">Increments the value of sequence with the given
 sequence name.
 <div class="sk">Inkrementuje hodnotu sekvencie so zadaným menom.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../stuba/fei/gono/java/nonblocking/mongo/services/NextSequenceService.html#lastId-java.lang.Class-">lastId</a></span>(@NotNull java.lang.Class&lt;?&gt;&nbsp;rep)</code>
<div class="block"><div class="en">Calculates the maximal id that was used to save an object of the given class.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>reactor.core.publisher.Mono&lt;java.lang.Void&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../stuba/fei/gono/java/nonblocking/mongo/services/NextSequenceService.html#needsUpdate-java.lang.String-java.lang.String-">needsUpdate</a></span>(java.lang.String&nbsp;seqName,
           java.lang.String&nbsp;val)</code>
<div class="block"><div class="en">Checks if the sequence with given name needs to update
 its maximal value.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>reactor.core.publisher.Mono&lt;<a href="../../../../../../../stuba/fei/gono/java/pojo/SequenceId.html" title="class in stuba.fei.gono.java.pojo">SequenceId</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../stuba/fei/gono/java/nonblocking/mongo/services/NextSequenceService.html#setNextSequence-java.lang.String-java.lang.String-">setNextSequence</a></span>(@NotNull java.lang.String&nbsp;seqName,
               @NotNull java.lang.String&nbsp;value)</code>
<div class="block"><div class="en">Sets value of sequence with the given name.
 <div class="sk">Nastaví hodnotu sekvencie so zadaným názvom.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="reactiveMongoOperations">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reactiveMongoOperations</h4>
<pre>private final&nbsp;org.springframework.data.mongodb.core.ReactiveMongoOperations reactiveMongoOperations</pre>
</li>
</ul>
<a name="mongoOperations">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>mongoOperations</h4>
<pre>private final&nbsp;org.springframework.data.mongodb.core.MongoOperations mongoOperations</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="NextSequenceService-org.springframework.data.mongodb.core.ReactiveMongoOperations-org.springframework.data.mongodb.core.MongoOperations-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>NextSequenceService</h4>
<pre>public&nbsp;NextSequenceService(org.springframework.data.mongodb.core.ReactiveMongoOperations&nbsp;reactiveMongoOperations,
                           org.springframework.data.mongodb.core.MongoOperations&nbsp;mongoOperations)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getNextSequence-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextSequence</h4>
<pre>private&nbsp;reactor.core.publisher.Mono&lt;java.lang.String&gt;&nbsp;getNextSequence(@NotNull
                                                                      @NotNull java.lang.String&nbsp;seqName)</pre>
<div class="block"><div class="en">Increments the value of sequence with the given
 sequence name.</div>
 <div class="sk">Inkrementuje hodnotu sekvencie so zadaným menom.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>seqName</code> - <div class="en">name of the sequence.</div>
                <div class="sk">názov sekvencie.</div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="en">Mono emitting updated value of the sequence.</div>
 <div class="sk">Momo emitujúce aktualizovnú hodnota sekvencie.</div></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../stuba/fei/gono/java/pojo/SequenceId.html" title="class in stuba.fei.gono.java.pojo"><code>SequenceId</code></a></dd>
</dl>
</li>
</ul>
<a name="setNextSequence-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNextSequence</h4>
<pre>public&nbsp;reactor.core.publisher.Mono&lt;<a href="../../../../../../../stuba/fei/gono/java/pojo/SequenceId.html" title="class in stuba.fei.gono.java.pojo">SequenceId</a>&gt;&nbsp;setNextSequence(@NotNull
                                                               @NotNull java.lang.String&nbsp;seqName,
                                                               @NotNull
                                                               @NotNull java.lang.String&nbsp;value)</pre>
<div class="block"><div class="en">Sets value of sequence with the given name.</div>
 <div class="sk">Nastaví hodnotu sekvencie so zadaným názvom.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>seqName</code> - <div class="en">name of the sequence.</div>
                <div class="sk">názov sekvencie.</div></dd>
<dd><code>value</code> - <div class="en">value that the sequence will be set to.</div>
              <div class="sk">hodnota na ktorú sa sekvencia nastaví.</div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="en">Mono emitting the SequenceId with modified value.</div>
 <div class="sk">Mono emitujúce objekt triedy SequenceId s modifikovanou hodnotou.</div></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../stuba/fei/gono/java/pojo/SequenceId.html" title="class in stuba.fei.gono.java.pojo"><code>SequenceId</code></a></dd>
</dl>
</li>
</ul>
<a name="getNewId-org.springframework.data.repository.reactive.ReactiveCrudRepository-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNewId</h4>
<pre>public&nbsp;reactor.core.publisher.Mono&lt;java.lang.String&gt;&nbsp;getNewId(@NotNull
                                                              @NotNull org.springframework.data.repository.reactive.ReactiveCrudRepository&lt;?,java.lang.String&gt;&nbsp;rep,
                                                              @NotNull
                                                              @NotNull java.lang.String&nbsp;sequenceName)</pre>
<div class="block"><div class="en">Generates a new value of an id for saving new object in a database.
 Updates maximal value
 of sequence with the given name, checks if an entity with this id already exists in the repository.
 If it does exist, function finds the actual maximal value of id used to store entities in the repository and
 updates the sequence.</div>
 <div class="sk">Generuje novú hodnotu id na uloženie nového objektu do databázy. Aktualizuje
 maximálnu hodnotu sekvencie so zadaným menom, skontroluje či už existuje entita so zadaným id. Ak existuje,
 využije ďalšiu metódu na získanie skutočnej maximálnej hodnoty id v zadanom repozitáry a aktualizuje hodnotu
 sekvencie.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rep</code> - <div class="en">repository where the object will be saved.</div>
            <div class="sk">repozitár v ktorom bude objekt uložený.</div></dd>
<dd><code>sequenceName</code> - <div class="en">name of the sequence holding the id of last saved object.</div>
                     <div class="sk">názov sekvencie ktorá udržiava id posledného uloženého objektu.</div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="en">Mono emitting the value of id that should be used to save object in
 the given repository.</div>
 <div class="sk">Mono emitujúce hodntotu id ktoré by malo byť použité na uloženie
 objektu v zadanom repozitári.</div></dd>
</dl>
</li>
</ul>
<a name="lastId-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastId</h4>
<pre>private&nbsp;java.lang.String&nbsp;lastId(@NotNull
                                @NotNull java.lang.Class&lt;?&gt;&nbsp;rep)</pre>
<div class="block"><div class="en">Calculates the maximal id that was used to save an object of the given class.
 Transforms ids of all entities of the given class into long and finds the maximal value.</div>
 <div class="sk">Získa maximálnu hodnotu id ktoré bolo použité na uloženie objektu zadanej triedy.
 Transformuje id všetkých entít triedy do typu long a získa maximálnu hodnotu.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rep</code> - <div class="en">class of the entities, must not be null.</div>
            <div class="sk">trieda entít, nesmie byť null.</div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="en">string value of the maximal id of saved entity of the given class.</div>
 <div class="sk">hodnota maximálneho id použitého na uloženie entity zadanej triedy.</div></dd>
</dl>
</li>
</ul>
<a name="needsUpdate-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>needsUpdate</h4>
<pre>public&nbsp;reactor.core.publisher.Mono&lt;java.lang.Void&gt;&nbsp;needsUpdate(java.lang.String&nbsp;seqName,
                                                               java.lang.String&nbsp;val)</pre>
<div class="block"><div class="en">Checks if the sequence with given name needs to update
 its maximal value. If the given value is larger than the maximal value stored in
 the sequence with the given name, it sets it to the new value.</div>
 <div class="sk">Skontroluje, či sekvencia so zadaným názvom potrebuje aktualizovať
 maximálnu hodnotu id. Ak je zadaná hodnota väčšia ako uložená maximálna hodnota, nastaví
 sa táto uložená hodnota na novú.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>seqName</code> - <div class="en">name of the sequence, must not be null.</div>
                <div class="sk">názov sekvencie, nesmie byť null.</div></dd>
<dd><code>val</code> - <div class="en">value to be checked against maximal id value, must not be null.</div>
            <div class="sk">hodnota oproti ktorej sa uložená maximálna hodnota porovná.</div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="en">Mono emitting when the operation was completed.</div>
 <div class="sk">Mono emitujúce keď sa operácia uskutoční.</div></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../stuba/fei/gono/java/nonblocking/mongo/services/EmployeeServiceImple.html" title="class in stuba.fei.gono.java.nonblocking.mongo.services"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../stuba/fei/gono/java/nonblocking/mongo/services/OrganisationUnitServiceImpl.html" title="class in stuba.fei.gono.java.nonblocking.mongo.services"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?stuba/fei/gono/java/nonblocking/mongo/services/NextSequenceService.html" target="_top">Frames</a></li>
<li><a href="NextSequenceService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
